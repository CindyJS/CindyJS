<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Cindy JS</title>

<script type="text/javascript" src="../build/js/quickhull3d/quickhull3d.nocache.js"></script>
<script type="text/javascript" src="../build/js/Cindy.js"></script>

<link rel="stylesheet" href="../css/cindy.css">
</head>

<body style="font-family:Arial;">

<h1>Conjugate Scherk Minimal Surface</h1>


<script id='mouseDrag' type='cindyscript'>
if((mover()!=S) & (mover()!=T),
   xx=mouse().x;
   yy=mouse().y;
   wy=(startx-xx)*.3;
   wx=-(starty-yy)*.3;
   
   mmmx=[
       [1,0,0],
       [0,cos(wx),sin(wx)],
       [0,-sin(wx),cos(wx)]
       ];
   
   
   mmmy=[
       [cos(wy),0,-sin(wy)],
       [0,1,0],
       [sin(wy),0,cos(wy)]
       ];
   
   
   
   mat=mmmx*mmmy*mat;
   
   startx=mouse().x;
   starty=mouse().y;
   );
</script>

<script id='mouseUp' type='cindyscript'>

if((mover()!=S) & (mover()!=T),
   xx=mouse().x;
   yy=mouse().y;
   wy=(startx-xx)*.3;
   wx=-(starty-yy)*.3;
   
   mmmx=[
       [1,0,0],
       [0,cos(wx),sin(wx)],
       [0,-sin(wx),cos(wx)]
       ];
   
   
   mmmy=[
       [cos(wy),0,-sin(wy)],
       [0,1,0],
       [sin(wy),0,cos(wy)]
       ];
   
   
   
   mat=mmmx*mmmy*mat;
   );
</script>

<script id='mouseDown' type='cindyscript'>

startx=mouse().x;
starty=mouse().y;
</script>




<script id='init' type='cindyscript'>



v=[[0.03413978489097319,1.0052991991732798,-0.01506337193377845],
    [-0.004938155724226345,0.9988790425913523,-0.08682189515691012],
    [0.03189339198423721,0.9957592485183274,-0.1247612656998186],
    [0.0844799149681908,0.9926709001401426,-0.08799934225069676],
    [-0.05013525195811526,0.9999274614209429,-0.07218925100696442],
    [-0.047075712353911746,1.0094393991290638,-0.02578327148471327],
    [-0.03150902349732597,0.9955256555450103,-0.12389108091534606],
    [-0.06148420187926969,0.9924958361387423,-0.1065431669161408],
    [-0.005894691441817399,0.9979709238351343,-0.15116389187310403],
    [-0.05304387025867559,0.9928674271236162,-0.14913377907357825],
    [-0.03403308620978328,0.9996119352964565,-0.17082750831856264],
    [-0.07456714311622198,0.986055374285705,-0.1322428416525815],
    [-0.07193092587197739,0.9902890236362821,-0.1688053882290906],
    [-0.08782925303541199,0.9798689447004105,-0.15276138362733155],
    [-0.05708600155329027,1.0009602324659412,-0.18695813533659777],
    [-0.08981814306373176,0.9874427762795245,-0.18586382895838108],
    [-0.07793891906861224,1.0021964485725994,-0.2015747677064831],
    [-0.10131039048915033,0.9733341229396439,-0.17047494966474416],
    [-0.11565047360331607,0.9657321777446024,-0.18705167489269103],
    [-0.10824273553631385,0.9839289129317343,-0.20221103692432824],
    [-0.0987858918950755,1.0034538267831945,-0.21620165127575544],
    [-0.12896700209118517,0.9790680237762819,-0.21945104081983205],
    [-0.12182171339135614,1.004856264086366,-0.2323623615395387],
    [-0.13180371683464465,0.9559539073411653,-0.20374371374245492],
    [-0.15449334342974708,0.9714509043419086,-0.239410873359811],
    [-0.1509073086811938,0.9420336042078966,-0.22147487408613833],
    [-0.1499369811554728,1.0065630975796906,-0.25207397303027085],
    [-0.18958105234263609,0.9574476488861052,-0.2651625441629787],
    [-0.18772766339814048,1.008736650199757,-0.2785288194027746],
    [-0.1738444036260432,0.9202052817243142,-0.24049152801617799],
    [-0.2510042521367868,0.9234621649002716,-0.30727399560630425],
    [-0.19858206015662314,0.8837803051537887,-0.2582235972617],
    [-0.2402763681430124,1.011825761174321,-0.31533259170865524],
    [-0.20919336339036262,0.8317254530457465,-0.2625282986064791],
    [-0.2617916135974014,0.8345313135159284,-0.2994941057357341],
    [-0.162800453696036,1.1333267229756578,-0.28867665725741376],
    [-0.2295006605760977,1.1003888259557002,-0.3232337270094366],
    [-0.21873515667946886,1.1890835845641519,-0.33116023367228375],
    [-0.16618236560690075,1.1859382324566519,-0.29435493861229023],
    [-0.17181292612130106,1.0591647351379139,-0.2820454173097266],
    [-0.14067473442374323,1.094135682764326,-0.27358138224360856],
    [-0.13684416880334904,1.0411734698561015,-0.2587583608287095],
    [-0.11680157063889796,1.0694902481620745,-0.25980201203056474],
    [-0.1101068191745364,1.030375877062585,-0.242073247125621],
    [-0.09483764489870158,1.0529243425684378,-0.2486935787058033],
    [-0.07451652514094115,1.0408090729435946,-0.23974622283085856],
    [-0.08733489734510971,1.022861513133367,-0.22879561320313999],
    [-0.0660709116950306,1.0169507802445918,-0.21729356229371452],
    [-0.05472389334761271,1.031077800980704,-0.23234213284698474],
    [-0.04425434236300222,1.0117497924440257,-0.20652092198750774],
    [-0.0340321902306424,1.022492833238048,-0.22611725987775103],
    [-0.019601437878488424,1.006625631048419,-0.19572834741595663],
    [-0.010710496670490208,1.014173741071836,-0.22111665699498173],
    [0.017426078639215963,1.0053450459075737,-0.21815472686307089],
    [0.011192881987300722,1.0009174433762245,-0.18440862707055192],
    [0.0547445942133765,0.993461298473376,-0.17249211360236563],
    [0.05303137282607058,0.9951716311887441,-0.21989777514272962],
    [0.13497284313474106,0.9800125753987334,-0.16110500517755896],
    [0.09707279380541083,0.9828686182801366,-0.2338177300992596],
    [0.13281460065848305,0.9704598822969808,-0.2709687461410581],
    [0.18541410236902364,0.9673589071526533,-0.2341874978796152],
    [-0.016301474365541663,1.0179528674200675,0.058019120746077055],
    [-0.06882584930638347,1.0210256253697756,0.021167153246140092],
    [-0.10655757509598902,1.0232231628313706,-0.005317127528922223],
    [-0.09133972363943989,1.0105194254403764,-0.03720411703785633],
    [-0.08700354364222321,0.9988976050194855,-0.06956912758621643],
    [-0.1228140851404838,1.0103535396977044,-0.0480392250450559],
    [-0.11642247923502116,0.996560062919436,-0.07161263943402177],
    [-0.13465791682607617,1.0248546283155637,-0.025035877761376446],
    [-0.15769813582925818,1.026199740471879,-0.0411849002213313],
    [-0.14820118091760354,1.0094149266605128,-0.058288852670120746],
    [-0.14111846901158903,0.993245986016611,-0.07559448008842955],
    [-0.17086727377546543,1.0077872988531162,-0.06842169439317969],
    [-0.1633751768564101,0.9889056828303967,-0.08063674790128138],
    [-0.17856020494709277,1.0274382523246886,-0.05578827339753769],
    [-0.19318028548567898,1.0052715356366704,-0.07913675300909605],
    [-0.19942612566969783,1.0287003837692468,-0.07038770433983228],
    [-0.1850665706565327,0.983121332346224,-0.08660738070273505],
    [-0.2173667324627292,1.0012951487038024,-0.09136587151895038],
    [-0.20786635175023294,0.9749635493246155,-0.0937031963563692],
    [-0.22247904014195247,1.0301071089751326,-0.08652364957826911],
    [-0.2506044206940944,1.0318164793150333,-0.10622060949387106],
    [-0.2462498581078921,0.9945241118394353,-0.10647566599926783],
    [-0.23335412122508314,0.9625841724747092,-0.1022025132658273],
    [-0.285001524336068,0.9814746190473659,-0.1270057673490702],
    [-0.2626816635342895,0.9422921020133244,-0.11196589375412189],
    [-0.28838343914967496,1.034086129707874,-0.13268404422686367],
    [-0.35148600663597873,0.9487230684872958,-0.16163413087568407],
    [-0.34093214427150537,1.037175240695596,-0.16948781690268241],
    [-0.2937925834383906,0.9074559176540782,-0.12044547931922928],
    [-0.3622515056781063,0.8600283078637597,-0.15370763201079954],
    [-0.30968545018585536,0.8569922354795845,-0.1169121027291208],
    [-0.27191281116899435,0.8548200065165624,-0.09048411836805448],
    [-0.2588373513391732,0.8893773410355252,-0.09716025963912198],
    [-0.23881656541027202,0.9175812984254773,-0.09817323727793181],
    [-0.2320807836514933,0.8786703493141663,-0.08050166439736213],
    [-0.21682804882973197,0.9011340651396617,-0.08708311286027062],
    [-0.24378193196135006,0.8531981887417572,-0.07080816371932631],
    [-0.22073041228977053,0.8518534529655919,-0.054675248220801255],
    [-0.20928900502897965,0.8712298285187403,-0.06724972604799637],
    [-0.19647138686802781,0.8891305233119282,-0.07816654005031418],
    [-0.1880112066471698,0.8653647860918362,-0.05576356463849555],
    [-0.17663991874070073,0.8794821253697096,-0.07080267842857729],
    [-0.19987889037112463,0.8506207982421695,-0.04005632731869188],
    [-0.17903943284531312,0.8493826136882923,-0.025417105368092465],
    [-0.16619484190219924,0.8601782979335155,-0.044985878569081234],
    [-0.15592297410248127,0.8709338122266846,-0.06461077196073378],
    [-0.14156241103928474,0.8550449726305582,-0.034158162973066404],
    [-0.13260604941758153,0.8626079963600364,-0.059612197023290986],
    [-0.1560190552025924,0.848019622686405,-0.009231036536366536],
    [-0.12792425399158197,0.8463650651081569,0.010514181428736325],
    [-0.11080586318378757,0.8493194963627081,-0.0227721489481223],
    [-0.1045069687023545,0.8537523120703872,-0.056609590052735456],
    [-0.06729152750141928,0.8418507086739229,-0.010764422101907034],
    [-0.06895919735728433,0.8435556482744797,-0.058279306122218676],
    [-0.09016921841585976,0.844147229069423,0.03701620310051644],
    [-0.037620516304089906,0.8410581182989854,0.07381997360904843],
    [0.012587255799100056,0.8285910517402301,0.0008775159668477917],
    [-0.0253127894365182,0.8314470950052947,-0.07183520139107286],
    [0.010479807769493914,0.8190264963040225,-0.10900873963368672],
    [0.06302850986909284,0.8159373855339987,-0.07220496913705395],
    [-0.027507841323230895,0.821486651898813,-0.13528284654406095],
    [-0.051057717250612325,0.8344680889416959,-0.10949763746326047],
    [-0.07904524987536458,0.8475008169035677,-0.09363949231476673],
    [-0.0720697400516099,0.8379316409658405,-0.13513645999093243],
    [-0.09090132833547865,0.8524635124657634,-0.12031736198335832],
    [-0.05580772946638761,0.8234109820843803,-0.15477209914226348],
    [-0.07892441061433698,0.824994254714379,-0.17070544581052946],
    [-0.09037098382807812,0.8416897666871066,-0.15518595894278187],
    [-0.10286853125095463,0.8581549625368748,-0.14180500336007298],
    [-0.10748155842390292,0.8458810473355126,-0.17267255219311933],
    [-0.1148371917462372,0.8646938645024927,-0.16055811840182896],
    [-0.09972097945858402,0.8263063016601754,-0.18517041913071552],
    [-0.12044054975559595,0.8274216617674286,-0.19976184076339124],
    [-0.12482039542084665,0.8508313483380979,-0.18963382507223966],
    [-0.12726650789999006,0.8725585580874233,-0.17841479733309668],
    [-0.1440234530333673,0.8572839135931536,-0.20787048415090786],
    [-0.1408796944184759,0.8827823675095792,-0.1968916596195283],
    [-0.1433625333324562,0.8285075942580907,-0.21601492329201108],
    [-0.17142568517844692,0.829827198786391,-0.23589294924744678],
    [-0.16730991256993333,0.8669001938029658,-0.22949190840737677],
    [-0.15640182755337928,0.8973859013909882,-0.21728982581567574],
    [-0.12406719454303973,1.1463745388066113,-0.26817315161046207],
    [-0.12842175508092665,1.1836669054424174,-0.2679180982864163],
    [-0.11133922788071482,1.1144944540920705,-0.2638165186887601],
    [-0.0951866915241157,1.1531662163703609,-0.25307838344075606],
    [-0.08584501779661871,1.126929912122952,-0.25530759237502093],
    [-0.10029899760778607,1.1819781759720915,-0.2482361640413203],
    [-0.07100434901197826,1.1571822675664794,-0.24085029996425478],
    [-0.07725018783679424,1.1806111151121514,-0.23210125353238287],
    [-0.06303651535903125,1.1351265823716086,-0.2481962789550907],
    [-0.048703782954997665,1.1597435992885305,-0.23011718967186395],
    [-0.041330032868641696,1.1409260442475504,-0.2422129669073439],
    [-0.056396712861167805,1.1793945521991642,-0.21748377084284057],
    [-0.026056257843139523,1.1614048717641239,-0.21995147664074466],
    [-0.035553211471114676,1.17818968499363,-0.20284752649916524],
    [-0.019049562375993898,1.1452593008088137,-0.23717226492830135],
    [-.0006853555641937147,1.1623556616712407,-0.2096674883466837],
    [0.005677856350346577,1.1485542567728377,-0.23321221906008713],
    [-0.012529185840066036,1.1768567496324,-0.18666414376166168],
    [0.030785623390972718,1.1625162372294928,-0.19880750101250466],
    [0.015567773610830143,1.175219973806933,-0.16692051497605812],
    [0.0351330868925468,1.1508716133374473,-0.2312081281722863],
    [0.07507381863454383,1.1614231201348961,-0.18736955725346888],
    [0.07204159444902827,1.1518857765392103,-0.23387973719297903],
    [0.05332368397243402,1.1730093452394683,-0.14041913745943876],
    [0.1560455636190784,1.1571681506520448,-0.1765323531054967],
    [0.10587238607202071,1.1699202344694453,-0.10361536696281455],
    [0.11701708729962838,1.1507272817381,-0.24841422094751314],
    [0.2064868176669937,1.1445144844464856,-0.24961483823186206],
    [0.1539381155557175,1.1476035952168941,-0.2864186087400483],
    [0.09049789119403001,1.1473692382724414,-0.2855065731224978],
    [0.11587216744801948,1.1495056040091847,-0.31262051009937974],
    [0.06055961169185557,1.1443301624239444,-0.2682121176458808],
    [0.06869380673097106,1.1443940995342277,-0.3105476557107256],
    [0.04726980743973988,1.1375676279980353,-0.29381979817862497],
    [0.08748145220049085,1.1508297576569178,-0.3320163545397701],
    [0.04956651650936596,1.1414947274419618,-0.32996241382032393],
    [0.06428947195488045,1.1519205446390544,-0.3478588366799883],
    [0.03380466997469243,1.131066031887241,-0.31417799598352825],
    [0.031555617080531825,1.1383963046962076,-0.3467506865448142],
    [0.02020344439370369,1.1242824530934068,-0.3316936512412398],
    [0.043473263703513745,1.1530392687628137,-0.3622790378238616],
    [0.013180988967812338,1.134781417434247,-0.3629190076131703],
    [0.02281573185566297,1.1543551270493644,-0.37690925238557627],
    [0.0058861349193228205,1.1165608390812831,-0.3481299126260553],
    [-0.007347892215599332,1.1300001704065044,-0.3801725943862708],
    [-0.0101141632701871,1.1068071009938338,-0.3648422895537813],
    [.000028305819378789815,1.1559485185534721,-0.39328717549406117],
    [-0.03262794461575908,1.1225905150081297,-0.40035192901623057],
    [-0.02786201561295512,1.1578943450871244,-0.413345308535932],
    [-0.029011413664860503,1.0930026027038586,-0.38278116710049603],
    [-0.06751608155037014,1.1088815395415672,-0.42647406491587025],
    [-0.051760859115155586,1.071302081635086,-0.4021283425995804],
    [-0.06545117629118181,1.1603886999777164,-0.4401782561985025],
    [-0.11788219992688242,1.1637137572258822,-0.4773392530132865],
    [-0.12878140429715798,1.0748319903807324,-0.46907953613771114],
    [-0.07619936122424553,1.0351184413067018,-0.4205305141542598],
    [-0.08683680384766188,0.9832822826327977,-0.42466706376626195],
    [-0.1393855089694312,0.9863713936205161,-0.4614708364420379],
    [-0.0449001075995516,1.0179093882241323,-0.3919894511399109],
    [-0.04907067071413762,0.9811181759967558,-0.39821528823093594],
    [-0.03426239329211587,1.0483226523186546,-0.379107294442799],
    [-0.021493794910143475,1.008060024727942,-0.37046866796835864],
    [-0.018637197338988016,1.0335851635511577,-0.3588150348802045],
    [-0.020952725134409246,0.9795167877503118,-0.37851246833622315],
    [0.0020891113852404223,0.9781977721233037,-0.3623600260917087],
    [-0.002154680457709085,1.0015089284994827,-0.35220879383014386],
    [-0.004916233992778774,1.0233243775770255,-0.3403321388554263],
    [0.015251807265060646,0.9966348345872409,-0.33511196799965104],
    [0.00755793604358664,1.0155534465800482,-0.32238156521404376],
    [0.022944738584418554,0.97698388110408,-0.3477453888945353],
    [0.03230995487252621,0.9926505468422078,-0.3174430936486824],
    [0.0438089584430299,0.9757480412496259,-0.3331448622883798],
    [0.01947531595764573,1.0092047898343959,-0.3035166241007031],
    [0.05045814317328201,0.9891415734071022,-0.2972274656971393],
    [0.03132217416809923,1.0037312501491065,-0.2819560500464803],
    [0.06687321315788858,0.9743717614647488,-0.31702923428370783],
    [0.07127706906729382,0.9859014761111309,-0.27145764395084304],
    [0.09502004679007114,0.9726965834279906,-0.2973738524883489],
    [0.043044633356754514,0.9989629788701292,-0.2552546694679922],
    [-0.08972603070465185,0.9885363607274673,-0.09743050889597143],
    [-0.11455544562527468,0.983736716259986,-0.09323090765527052],
    [-0.09580700313148058,0.9790294361591135,-0.12036541086631272],
    [-0.11550436192642352,0.9717231870685609,-0.11216854373923744],
    [-0.10340856903959034,0.9698306774753215,-0.13955911194871962],
    [-0.11807302846931007,0.9601366595598572,-0.12870706911872812],
    [-0.1119097785372997,0.9603081102914875,-0.15639068644701326],
    [-0.12161977587429222,0.9484066634610014,-0.14355830283010607],
    [-0.12588191701760196,0.9357878878805175,-0.15746269118494016],
    [-0.12131683130654612,0.9496601558531824,-0.1720233498085531],
    [-0.13188620552245203,0.9367742983708767,-0.18728906634813589],
    [-0.13074425147385688,0.9213517897379164,-0.17096547741306933],
    [-0.14377039771729824,0.920057661334564,-0.20254323071690158],
    [-0.13597256528587956,0.9040216907471786,-0.18423920105186659],
    [0.016650373594944083,1.0110229398731518,-0.24744949924950727],
    [0.012514662715799409,1.0175426268377077,-0.27181667281900257],
    [-0.006312065611619788,1.0222060593658633,-0.24459876125244503],
    [-0.004783812599443691,1.030601420744324,-0.2653603059047595],
    [-0.026265286153306904,1.0330184476728201,-0.24457294856392456],
    [-0.020373297252365554,1.04326102250296,-0.26138456202620747],
    [-0.04422623174779837,1.0441670215151613,-0.2462748589731733],
    [-0.03463451762604494,1.0561360493844287,-0.2590017282712097],
    [-0.0612280744555223,1.0565381953751667,-0.2492223412225749],
    [-0.04811334040989619,1.0700114252254012,-0.2576146769864384],
    [-0.07807050323177775,1.0712882550152911,-0.2532589225412795],
    [-0.06123261951813194,1.0858071981935582,-0.2568176049591213],
    [-0.09503640819479556,1.0899958639081415,-0.2582913155898481],
    [-0.0740213686117548,1.104539535709344,-0.2562437624903847],
    [0.0069083808289349714,1.0247826047087565,-0.2924794764409562],
    [.0005553406780352908,1.0329583650471872,-0.31089272103660864],
    [-0.00487910685136912,1.039392501013929,-0.28371994417412344],
    [-0.005854457554540927,1.048847715802466,-0.30046446492890877],
    [-0.015713871098893564,1.0533407277619855,-0.2766789248102585],
    [-0.011742432647823882,1.0635735267859645,-0.2909509166131863],
    [-0.025765072614057114,1.0671944209363877,-0.2707547181626232],
    [-0.017284569484744244,1.0777423170314935,-0.28197791217378004],
    [-0.03535203646183108,1.0816468625573374,-0.2653884227613046],
    [-0.02274109875719266,1.092030277543952,-0.27304515299452375],
    [-0.044762052352154864,1.0974191213013365,-0.260105970033013],
    [-0.028410052796984844,1.1070630649030266,-0.26365959625799357],
    [-0.054073091230938605,1.1151673325616014,-0.2545088585551935],
    [-0.03455105470643735,1.1233353037842557,-0.25344751886990785],
    [-0.006384889821314056,1.0426340543472563,-0.3283416746404994],
    [-0.013914979554872836,1.054788239512273,-0.3458451781394673],
    [-0.00729354445614952,1.0594875060569235,-0.3164474326094776],
    [-0.008875651883393836,1.072076526663524,-0.3323654087212595],
    [-0.008019525724439959,1.0744411787115908,-0.3048147670194476],
    [-0.004148257134885564,1.0865341662671573,-0.3188148082035349],
    [-0.008797734311676146,1.0882740381033777,-0.29321150476613606],
    [.00008684491533742043,1.0992937495310147,-0.30498934832015784],
    [-0.009868240619976662,1.1017446380973965,-0.28113201209021565],
    [0.003713716287460549,1.1112837842789038,-0.2902534439389049],
    [-0.011579307338745341,1.1154840913200172,-0.267999424718375],
    [0.006415620227080427,1.1232021607642435,-0.27379111259543853],
    [-0.01442535144768408,1.1299612578587723,-0.2533775279351953],
    [0.007489022195093072,1.135566823213296,-0.25487137080018113],
    [-0.02181248316610814,1.0709171133622255,-0.364034691156415],
    [-0.010121411856400524,1.0875578730294806,-0.34857143660360246],
    [.00030830284468054935,1.100443423803939,-0.3332691434991865],
    [0.00969459523045146,1.1112218125756983,-0.3177425525774686],
    [0.018299706390755142,1.1209988105346744,-0.3010618938840605],
    [0.02607204680148935,1.1305213675530983,-0.2819784395437286],
    [0.03231902071813071,1.140365495939331,-0.2590887886994989],
    [-0.13646519754626016,0.9781190193254843,-0.09175764033658892],
    [-0.1565823787233703,0.9714712923788559,-0.09184162976750965],
    [-0.1335307668217722,0.9639948782054606,-0.10639164097458374],
    [-0.15037795777611024,0.9555331056984679,-0.10207447778019438],
    [-0.1317225447069846,0.9505840973734618,-0.11958669812548665],
    [-0.14463818412548052,0.940806755945269,-0.11152313006033196],
    [-0.13059714062671265,0.9373690020850557,-0.13176319064414893],
    [-0.13914374138814856,0.9267531120427938,-0.12054772539656232],
    [-0.13363953028514092,0.9127116042692406,-0.12958524943385494],
    [-0.1298551396100667,0.9236775807313352,-0.14343223755065046],
    [-0.12926278749012438,0.9087562470719838,-0.15501805382096734],
    [-0.12787640921581225,0.8980142612948002,-0.13906480265341553],
    [-0.12854275533099072,0.8918810173262341,-0.1667212307528945],
    [-0.12164724922313634,0.8821068108088274,-0.1493303934239999],
    [-0.17609546103806795,0.9632807663100261,-0.09290469529317727],
    [-0.19603799991754323,0.9526377841467992,-0.09463217147768939],
    [-0.1667346117631471,0.9458265085138775,-0.09853309299121138],
    [-0.18320694324918374,0.9341452999895102,-0.09524067759770058],
    [-0.15726766743633638,0.9303203916639788,-0.1038812432559684],
    [-0.17003687241340967,0.9185651097231937,-0.09609892875855937],
    [-0.14764709338954654,0.9160668128927284,-0.1093362063673205],
    [-0.15652045789591607,0.9048472488230356,-0.09756474939168888],
    [-0.14226549438884734,0.8920469351730927,-0.10000806200470932],
    [-0.1376224613909026,0.9023152216021589,-0.1153259524073254],
    [-0.12688951674816207,0.8883819392646684,-0.12234969239703934],
    [-0.1267438319940234,0.8793882793699188,-0.10397871586194266],
    [-0.11525899845133902,0.8737474387436462,-0.13098206568410733],
    [-0.10956468184525653,0.8662977131067094,-0.110342055374906],
    [-0.21705121154969814,0.9380874065087604,-0.09667002890454823],
    [-0.20005029054544463,0.9195595773116721,-0.09166693079868149],
    [-0.1831625529708632,0.9049722132554283,-0.08767858987864553],
    [-0.16611919675939274,0.8927188447465985,-0.084792229024341],
    [-0.14814457942612047,0.8816224421970056,-0.08313842055232097],
    [-0.12822379581131102,0.8708032274519758,-0.0831644081431043],
    [-0.10533763602472287,0.859587010887418,-0.08595060204014049]];



f = [[1,2,3,4],[5,2,1,6],[7,2,5,8],[3,2,7,9],[9,7,10,11],[8,12,10,7],[13,10,12,14],[11,10,13,15],[15,13,16,17],[14,18,16,13],[19,20,16,18],[17,16,20,21],[21,20,22,23],[24,22,20,19],[25,22,24,26],[23,22,25,27],[27,25,28,29],[26,30,28,25],[31,28,30,32],[29,28,31,33],[32,34,35,31],[36,37,38,39],[29,33,37,40],[41,40,37,36],[42,40,41,43],[27,29,40,42],[42,44,23,27],[43,45,44,42],[46,47,44,45],[21,23,44,47],[47,48,17,21],[49,48,47,46],[50,48,49,51],[15,17,48,50],[50,52,11,15],[51,53,52,50],[54,55,52,53],[9,11,52,55],[55,56,3,9],[57,56,55,54],[58,56,57,59],[3,56,58,4],[59,60,61,58],[6,1,62,63],[64,65,6,63],[5,6,65,66],[66,65,67,68],[69,67,65,64],[70,71,67,69],[68,67,71,72],[72,71,73,74],[75,73,71,70],[76,73,75,77],[74,73,76,78],[78,76,79,80],[77,81,79,76],[82,83,79,81],[80,79,83,84],[84,83,85,86],[87,85,83,82],[88,85,87,89],[86,85,88,90],[91,92,90,88],[93,94,90,92],[86,90,94,95],[95,94,96,97],[98,96,94,93],[99,100,96,98],[97,96,100,101],[101,100,102,103],[104,102,100,99],[105,106,102,104],[107,103,102,106],[106,108,109,107],[110,108,106,105],[111,112,108,110],[109,108,112,113],[113,112,114,115],[116,114,112,111],[117,118,114,116],[115,114,118,119],[120,119,118,121],[122,123,119,120],[124,115,119,123],[123,125,126,124],[127,125,123,122],[128,129,125,127],[130,126,125,129],[129,131,132,130],[133,131,129,128],[134,135,131,133],[136,132,131,135],[135,137,138,136],[139,137,135,134],[140,141,137,139],[142,138,137,141],[141,32,30,142],[34,32,141,140],[143,36,39,144],[145,41,36,143],[143,146,147,145],[144,148,146,143],[149,146,148,150],[151,147,146,149],[149,152,153,151],[150,154,152,149],[155,152,154,156],[157,153,152,155],[155,158,159,157],[156,160,158,155],[161,158,160,162],[163,159,158,161],[161,164,165,163],[162,166,164,161],[167,164,166,168],[165,164,167,169],[170,171,169,167],[172,169,171,173],[165,169,172,174],[174,172,175,176],[173,177,175,172],[178,175,177,179],[180,176,175,178],[178,181,182,180],[179,183,181,178],[184,181,183,185],[182,181,184,186],[186,184,187,188],[185,189,187,184],[190,187,189,191],[192,188,187,190],[190,193,194,192],[191,195,193,190],[196,197,193,195],[194,193,197,198],[199,198,197,200],[201,198,199,202],[194,198,201,203],[203,201,204,205],[202,206,204,201],[207,208,204,206],[205,204,208,209],[209,208,210,211],[212,210,208,207],[213,210,212,214],[211,210,213,215],[215,213,216,217],[214,218,216,213],[219,216,218,220],[217,216,219,221],[221,219,59,57],[220,60,59,219],[222,66,68,223],[5,66,222,8],[8,222,224,12],[223,225,224,222],[226,224,225,227],[12,224,226,14],[14,226,228,18],[227,229,228,226],[230,231,228,229],[19,18,228,231],[231,232,24,19],[233,232,231,230],[234,232,233,235],[24,232,234,26],[26,234,142,30],[235,138,142,234],[236,221,57,54],[217,221,236,237],[237,236,238,239],[54,53,238,236],[51,240,238,53],[241,239,238,240],[240,242,243,241],[49,242,240,51],[244,242,49,46],[243,242,244,245],[245,244,246,247],[46,45,246,244],[43,248,246,45],[249,247,246,248],[248,145,147,249],[41,145,248,43],[250,215,217,237],[211,215,250,251],[251,250,252,253],[237,239,252,250],[241,254,252,239],[255,253,252,254],[254,256,257,255],[243,256,254,241],[258,256,243,245],[257,256,258,259],[259,258,260,261],[245,247,260,258],[249,262,260,247],[263,261,260,262],[262,151,153,263],[147,151,262,249],[264,209,211,251],[205,209,264,265],[265,264,266,267],[251,253,266,264],[255,268,266,253],[269,267,266,268],[268,270,271,269],[257,270,268,255],[272,270,257,259],[271,270,272,273],[273,272,274,275],[259,261,274,272],[263,276,274,261],[277,275,274,276],[276,157,159,277],[153,157,276,263],[278,203,205,265],[194,203,278,192],[192,278,279,188],[265,267,279,278],[269,280,279,267],[186,188,279,280],[280,281,182,186],[271,281,280,269],[282,281,271,273],[182,281,282,180],[180,282,283,176],[273,275,283,282],[277,284,283,275],[174,176,283,284],[284,163,165,174],[159,163,284,277],[285,72,74,286],[68,72,285,223],[223,285,287,225],[286,288,287,285],[289,287,288,290],[225,287,289,227],[227,289,291,229],[290,292,291,289],[293,294,291,292],[230,229,291,294],[294,295,233,230],[296,295,294,293],[297,295,296,298],[233,295,297,235],[235,297,136,138],[298,132,136,297],[299,78,80,300],[74,78,299,286],[286,299,301,288],[300,302,301,299],[303,301,302,304],[288,301,303,290],[290,303,305,292],[304,306,305,303],[307,308,305,306],[293,292,305,308],[308,309,296,293],[310,309,308,307],[311,309,310,312],[296,309,311,298],[298,311,130,132],[312,126,130,311],[313,84,86,95],[80,84,313,300],[300,313,314,302],[95,97,314,313],[315,314,97,101],[302,314,315,304],[304,315,316,306],[101,103,316,315],[107,317,316,103],[307,306,316,317],[317,318,310,307],[109,318,317,107],[319,318,109,113],[310,318,319,312],[312,319,124,126],[113,115,124,319]] ;

mid=sum(v)/length(v);
v=apply(v,(#-mid)*6);
use("Cindy3D");



mat=[ 
    [1,0,0],
    [0,1,0],
    [0,0,1]
    ];
mat=[[0.56,0.49,-0.67],[-0.52,-0.42,-0.74],[-0.65,0.76,0.02]];
mat0=[
    [1,0,0],
    [0,1,0],
    [0,0,1]
    ];



mmmx=mat0;
mmmy=mat0;




</script>


<script id='tick' type='cindyscript'>

</script>



<script id='firstDrawing' type='cindyscript'>
y=S.y;
if(y<S1.y,y=S1.y);
if(y>S2.y,y=S2.y);

S.xy=(S1.x,y);

s1=(|S,S1|/|S1,S2|);


y=T.y;
if(y<T1.y,y=T1.y);
if(y>T2.y,y=T2.y);

T.xy=(T1.x,y);

al=(|T,T1|/|T1,T2|);

vv=apply(v,mat*#);

f=sort(f,fa,sum(fa,p,(vv_p)_3));

s1=3*exp(s1*5);

mapt(pt):=[pt_1,#_2]/(s1-#_3)*s1*6+(2,2);

apply(f,q,
      pol=apply(q,vv_#);
      d=sum(pol)_3*.2+1.0;
      n=cross(pol_1-pol_3,pol_2-pol_4);
      n=n/|n|;
      col=(0.4,0.4,.7);
      col=col+max(((n*(1,5,5)),0))*(.8,.6,.6)*.1;
      col=col+max(((n*(-1,5,5)),0))*(.6,.4,.6)*.1;
      pol=apply(pol,mapt(#));
      fillpoly(pol,color->(col-(0.5,0.5,0))*d,alpha->al);
      pol=pol++[pol_1];
      forall(1..4,draw(pol_#,pol_(#+1),size->2,color->col*d*.02));
      
      );

drawtext(S1-(1.8,1),size->16,"perspective");
drawtext(T1-(1,1),size->16,"alpha");


</script>


<script id='timer' type='cindyscript'>
wx=wx*0.998;
wy=wy*0.998;
wx=.01;
wy=.01;
sp=0.8;
mmmx=[
    [1,0,0],
    [0,cos(wx*sp),sin(wx*sp)],
    [0,-sin(wx*sp),cos(wx*sp)]
    
    ];


mmmy=[
    [cos(wy*sp),0,-sin(wy*sp)],
    [0,1,0],
    [sin(wy*sp),0,cos(wy*sp)]
    ];


mat=mmmx*mmmy*mat;
</script> 

<canvas  id="CSCanvas" width=800 height=600  style="border:2px solid #000000"></canvas>

<script type="text/javascript">

var gslp=[
    {name:"A", kind:"P", type:"Free",alpha:0, pos:[-1000,-1000,1],alpha:.001} ,
    {name:"S1", type:"Free", pos:[16,-4],color:[0,0,0],pinned:true,size:2},
    {name:"S2", type:"Free", pos:[16,10],color:[0,0,0],pinned:true,size:2},
    {name:"S", type:"Free", pos:[16,1.5],color:[1,0.5,0.5],pinned:false,size:4,narrow:true},
    {name:"l", type:"Segment", args:["S1","S2"],color:[0,0,0],pinned:false,size:2},
     {name:"T1", type:"Free", pos:[20,-4],color:[0,0,0],pinned:true,size:2},
    {name:"T2", type:"Free", pos:[20,10],color:[0,0,0],pinned:true,size:2},
    {name:"T", type:"Free", pos:[20,6.5],color:[1,0.5,0.5],pinned:false,size:4,narrow:true},
    {name:"m", type:"Segment", args:["T1","T2"],color:[0,0,0],pinned:false,size:2}
    
    
    ];

createCindy({canvasname:"CSCanvas",
movescript:"firstDrawing",
initscript:"init",
mousedownscript:"mouseDown",
mouseupscript:"mouseUp",
tickscript:"timer",
mousedragscript:"mouseDrag",
geometry:gslp});


</script>

</body>
</html>
