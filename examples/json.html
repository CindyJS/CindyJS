<!DOCTYPE html>
<html>
    <head>
        <title>Cindy JS Example</title>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="../build/js/CindyJS.css" />
        <script type="text/javascript" src="../build/js/Cindy.js"></script>
        <script id="csinit" type="text/x-cindyscript">

            // Initialization code, executed once up front.
        </script>
        <script id="csdraw" type="text/x-cindyscript">
            circ = circle(A,1);
            json1 =
             {
                "test" : circ,
                "undef" : undef,
                "name":"John",
                "age":30,
                "bool": false,
                "cars": [
                    { "name":"Ford", "models":[ "Fiesta", "Focus", "Mustang" ] },
                    { "name":"BMW", "models":[ "320", "X3", "X5" ] },
                    { "name":"Fiat", "models":[ "500", "Panda" ] }
                ]
            };
            //json1.name = "Joe";
            //println(json1.name);
            //myvar = "name";
            //json1_myvar = "Bob";
            //println(json1_"blubbbb");
            //println(7 * {});
            //a=json1;
            //println((json1.cars_1).name);
            //println((json1.cars_1).models);

            //json2 = {"pt1": A, "pt2": B, "pt3" : C};
            //ptA = json2.pt1;
            //println(ptA.xy);
            //json2.pt1 = B;
            //println((json2.pt1).xy);
            //println("===");
            //println(7 * {1, 2});
            //println(keys(json1));
            //forall([1, 2, 3, 4, 5],#^2));
            //json3 = {"bla": 1, "blubb": 2, "lala": 10, "c" : "string" };
            //println(apply(json3, #^2));

            json3 = {"bla": 1, "blubb": 2, "lala": 10 };
            println(keys(json3));
            println(values(json3));
            A:"bla" = 5;
            println(keys(A));
            println(values(A));
            //println(select(json3, isOdd(#)));
            //json33 = forall(json3, println(json3_#));
            //println(json33);
            //cc = forall([1,2,3], println(#));
            //println(cc);
            //a=["this","is","a","list"];
            //forall(a,println(#))
            //forall(json3,iterator->"pair", println([#.key, #.value]));
            //forall(json3,iterator->"value", println(#));
            Jason = {"age":13};
            Jasonica = {"age":15};

            Jason.sister = Jasonica;
            Jasonica.brother = Jason;

            errc(Jason);

            json3 = {"a": 1, "b": 2, "c": 10, "d" : "string" };
            json4=apply(json3, v, k, k=k+1; v=v+2);
            print(json3, JSON->true);
            print(json3, JSON->false);
            print(json3);
            G = {};
            G_1 = 3; //works
            G_2 = 2; //works
            errc(G); //G ===> {1:3, 2:2}
            errc(G_1); //gives __
            println("====");
            forall({"a":2, "b":3}, x, iterator->"pair",
                  x.value=x.value^2;
                  print(x.value)
            );

            forall({"a":2, "b":3}, x, iterator->"pair",
                   x.value = x;
                  print(x)
            );
        </script>
        <script type="text/javascript">
            var cdy = CindyJS({
                // See ref/createCindy documentation for details.
                ports: [{ id: "CSCanvas", width: 500, height: 500 }],
                scripts: "cs*",
                language: "en",
                defaultAppearance: {
                    // See GeoBasics.js for possible attributes.
                },
                geometry: [
                    { name: "A", type: "Free", pos: [0, 0] },
                    { name: "B", type: "Free", pos: [1, 0] },
                    { name: "C", type: "Free", pos: [1, 1] },
                    // For allowed types, see GeoOps.js.
                    // For allowed properties, see csinit in GeoBasics.js.
                ], // End of geometry array.
            });

            // Remove all comments after adjusting this template for your use case.
        </script>
    </head>

    <body style="font-family: Arial">
        <div id="CSCanvas" style="border: 2px solid black"></div>
    </body>
</html>
